"use strict";(self["webpackChunkmimica"]=self["webpackChunkmimica"]||[]).push([[953],{1953:(e,t,a)=>{a.r(t),a.d(t,{default:()=>z});var n=a(3673),l=a(2323);const o=(0,n.Uk)(" MimiCa ");function i(e,t,a,i,s,r){const u=(0,n.up)("q-btn"),c=(0,n.up)("q-toolbar-title"),m=(0,n.up)("LanguageSwitch"),d=(0,n.up)("q-separator"),p=(0,n.up)("LoginButton"),h=(0,n.up)("q-toolbar"),g=(0,n.up)("q-route-tab"),f=(0,n.up)("q-tabs"),b=(0,n.up)("q-header"),w=(0,n.up)("q-icon"),k=(0,n.up)("q-item-section"),v=(0,n.up)("q-item"),W=(0,n.up)("q-list"),_=(0,n.up)("q-scroll-area"),y=(0,n.up)("q-drawer"),L=(0,n.up)("q-footer"),q=(0,n.up)("router-view"),S=(0,n.up)("q-page-container"),Z=(0,n.up)("q-layout"),Q=(0,n.Q2)("ripple");return(0,n.wg)(),(0,n.j4)(Z,{view:"hHh Lpr lFf"},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{class:"bg-cyan"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[o])),_:1}),(0,n.Wm)(m),(0,n.Wm)(d),(0,n.Wm)(p)])),_:1}),(0,n.Wm)(f,{modelValue:e.tab,"onUpdate:modelValue":t[2]||(t[2]=t=>e.tab=t),align:"left"},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{name:"dlsite",label:"dlsite",onClick:t[0]||(t[0]=t=>e.openURL("https://www.dlsite.com/home/dlaf/=/aid/mimica/url/https%3A%2F%2Fwww.dlsite.com%2Fhome%2Fcircle%2Fprofile%2F%3D%2Fmaker_id%2FRG34004.html%2F%3Futm_medium%3Daffiliate%26utm_campaign%3Dbnlink%26utm_content%3Dtext"))}),(0,n.Wm)(g,{name:"iranika",label:"iranika",onClick:t[1]||(t[1]=t=>e.openURL("https://twitter.com/happy_packet"))})])),_:1},8,["modelValue"])])),_:1}),(0,n.Wm)(y,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[3]||(t[3]=t=>e.leftDrawerOpen=t),"show-if-above":"",mini:!e.leftDrawerOpen||e.db.miniState,onClickCapture:e.db.miniState,breakpoint:500,bordered:"",class:"bg-grey-3"},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{class:"fit"},{default:(0,n.w5)((()=>[(0,n.Wm)(W,{padding:""},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.essentialLinks,(t=>(0,n.wy)(((0,n.wg)(),(0,n.j4)(v,{key:t,clickable:"",to:t.link,disable:t.disable},{default:(0,n.w5)((()=>[(0,n.Wm)(k,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{name:t.icon},null,8,["name"])])),_:2},1024),(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(t.disable?e.$t(t.title)+" : WIP":e.$t(t.title)),1)])),_:2},1024)])),_:2},1032,["to","disable"])),[[Q]]))),128)),(0,n.wy)((0,n.Wm)(v,{clickable:"",onClick:e.toggleMiniState,class:"mobile-hide"},{default:(0,n.w5)((()=>[(0,n.Wm)(k,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{name:e.db.miniState?"chevron_right":"chevron_left"},null,8,["name"])])),_:1}),(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("collapse")),1)])),_:1})])),_:1},8,["onClick"]),[[Q]])])),_:1})])),_:1})])),_:1},8,["modelValue","mini","onClickCapture"]),(0,n.Wm)(L,{bordered:"",class:"bg-white text-primary mobile-only"},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{"no-caps":"","active-color":"primary","indicator-color":"transparent",class:"text-grey",modelValue:e.footnav,"onUpdate:modelValue":t[4]||(t[4]=t=>e.footnav=t)},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{name:"home",label:e.$t("home"),to:"/"},null,8,["label"]),(0,n.Wm)(g,{name:"mixn",label:e.$t("Mixn"),to:"/mixn"},null,8,["label"]),(0,n.Wm)(g,{name:"bml",label:"BML",to:"/bookmarklet"})])),_:1},8,["modelValue"])])),_:1}),(0,n.Wm)(S,null,{default:(0,n.w5)((()=>[(0,n.Wm)(q)])),_:1})])),_:1})}var s=a(3437),r=a(1959);const u=(0,n._)("div",null,null,-1);function c(e,t,a,l,o,i){const s=(0,n.up)("q-select");return(0,n.wg)(),(0,n.iD)(n.HY,null,[u,(0,n.Wm)(s,{modelValue:l.locale,"onUpdate:modelValue":t[0]||(t[0]=e=>l.locale=e),options:l.localeOptions,label:"Language",dense:"","emit-value":"","map-options":"","label-color":"White",color:"white",style:{"min-width":"100px"},dark:""},null,8,["modelValue","options"])],64)}var m=a(5948),d=a(3602);const p={setup(){const{locale:e}=(0,m.QT)({useScope:"global"});return(0,n.YP)((()=>e),(e=>{console.info("locale was changed.",e.value),d.D.getInstance.setDefaultLocale(e.value)}),{deep:!0}),{locale:e,localeOptions:[{value:"ja-JP",label:"日本語"},{value:"en-US",label:"English"}]}}};var h=a(1635),g=a(7518),f=a.n(g);p.render=c;const b=p;f()(p,"components",{QSelect:h.Z});const w=(0,n.Uk)(" Login "),k=["src"];function v(e,t,a,l,o,i){const s=(0,n.up)("q-btn"),r=(0,n.up)("q-avatar");return e.state.isLogin?((0,n.wg)(),(0,n.j4)(r,{key:1},{default:(0,n.w5)((()=>[(0,n._)("img",{src:e.state.photoURL},null,8,k)])),_:1})):((0,n.wg)(),(0,n.j4)(s,{key:0,onClick:t[0]||(t[0]=t=>e.authStore.signin())},{default:(0,n.w5)((()=>[w])),_:1}))}var W=a(3321);const _=JSON.parse('{"domain":"nika.jp.auth0.com","client_id":"tCb5hh5RpeQ7ehN1J2XYWMzCyxzKCtDQ","audience":"https://apollo-server-prisma.herokuapp.com/"}');var y=function(e,t,a,n){function l(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,o){function i(e){try{r(n.next(e))}catch(t){o(t)}}function s(e){try{r(n["throw"](e))}catch(t){o(t)}}function r(e){e.done?a(e.value):l(e.value).then(i,s)}r((n=n.apply(e,t||[])).next())}))};class L{constructor(e){if(this.state=(0,r.qj)({isLogin:!1,displayName:"",photoURL:""}),this.Iauth0=(0,W.ZP)(_),e!=L.getInstance)throw L.instance?new Error("Already created instance of AuthStore. You should use AuthStore.getInstance()."):new Error("Constractor args valided illegal. You should use AuthStore.getInstance()");console.log("create instance of AuthStore"),this.setAuth().then((()=>{console.log(this.state)}))}static getInstance(){return this.instance||(this.instance=new L(L.getInstance)),this.instance}setAuth(){var e,t;return y(this,void 0,void 0,(function*(){const a=yield this.Iauth0;if(yield a.isAuthenticated()){const n=yield a.getUser();this.state.isLogin=!0,this.state.displayName=null!==(e=null===n||void 0===n?void 0:n.name)&&void 0!==e?e:"nameless",this.state.photoURL=null!==(t=null===n||void 0===n?void 0:n.picture)&&void 0!==t?t:"/img/no_img.jpg"}else this.state.isLogin=!1}))}signin(){return y(this,void 0,void 0,(function*(){const e=yield this.Iauth0;yield e.loginWithPopup(),yield this.setAuth()}))}signout(){}}const q=(0,n.aZ)({name:"LoginButton",setup(){const e=L.getInstance().state,t=L.getInstance();return{authStore:t,state:e}}});var S=a(8240),Z=a(5096);q.render=v;const Q=q;f()(q,"components",{QBtn:S.Z,QAvatar:Z.Z});const D=[{title:"home",caption:"quasar.dev",icon:"home",link:"/",disable:!1},{title:"Mixn",caption:"",icon:"create",link:"mixn",disable:!1},{title:"Bookmarklet",caption:"Bookmarklet",icon:"bookmark",link:"bookmarklet",disable:!1},{title:"createDeck",caption:"github.com/quasarframework",icon:"create",link:"create-deck",disable:!0},{title:"myDecks",caption:"github.com/quasarframework",icon:"book",link:"mydeck",disable:!0},{title:"favorite",caption:"chat.quasar.dev",icon:"star",link:"favorite",disable:!0},{title:"help",caption:"chat.quasar.dev",icon:"help",link:"help",disable:!0}],C=(0,n.aZ)({name:"MainLayout",components:{LanguageSwitch:b,LoginButton:Q},setup(){const e=(0,r.iH)(!1),t=d.D.getInstance.db,a=(0,r.iH)(),n=(0,r.iH)();return{openURL:s.Z,essentialLinks:D,leftDrawerOpen:e,db:t,tab:a,footnav:n,toggleLeftDrawer(){e.value||d.D.getInstance.setMiniState(!t.miniState),e.value=!e.value},toggleMiniState(){d.D.getInstance.setMiniState(!t.miniState)}}}});var I=a(9214),U=a(3812),x=a(9570),A=a(3747),F=a(5869),V=a(7547),M=a(208),R=a(2901),j=a(7704),B=a(7011),H=a(3414),O=a(2035),P=a(4554),T=a(1762),Y=a(2652),$=a(6489);C.render=i,C.__scopeId="data-v-59e22a35";const z=C;f()(C,"components",{QLayout:I.Z,QHeader:U.Z,QToolbar:x.Z,QBtn:S.Z,QToolbarTitle:A.Z,QSeparator:F.Z,QTabs:V.Z,QRouteTab:M.Z,QDrawer:R.Z,QScrollArea:j.Z,QList:B.Z,QItem:H.Z,QItemSection:O.Z,QIcon:P.Z,QFooter:T.Z,QPageContainer:Y.Z}),f()(C,"directives",{Ripple:$.Z})}}]);