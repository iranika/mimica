"use strict";(globalThis["webpackChunkmimica"]=globalThis["webpackChunkmimica"]||[]).push([[238],{9691:(e,t,a)=>{a.d(t,{Z:()=>Z});var n=a(3673),l=a(2323);const i=["src"];function o(e,t,a,o,c,s){const u=(0,n.up)("q-btn"),r=(0,n.up)("q-avatar"),d=(0,n.up)("q-item-section"),m=(0,n.up)("q-item"),p=(0,n.up)("q-list"),h=(0,n.up)("q-menu");return e.state.isLogin?((0,n.wg)(),(0,n.j4)(u,{key:1,round:"",flat:""},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n._)("img",{src:e.state.photoURL},null,8,i)])),_:1}),(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{onClick:t[0]||(t[0]=t=>e.authStore.signout())},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("Logout")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):((0,n.wg)(),(0,n.j4)(u,{key:0,to:"signin"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("sign in")),1)])),_:1}))}var c=a(1959),s=a(3321);const u=JSON.parse('{"domain":"nika.jp.auth0.com","client_id":"tCb5hh5RpeQ7ehN1J2XYWMzCyxzKCtDQ","audience":"https://apollo-server-prisma.herokuapp.com/"}');var r=function(e,t,a,n){function l(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,i){function o(e){try{s(n.next(e))}catch(t){i(t)}}function c(e){try{s(n["throw"](e))}catch(t){i(t)}}function s(e){e.done?a(e.value):l(e.value).then(o,c)}s((n=n.apply(e,t||[])).next())}))};class d{constructor(e){if(this.state=(0,c.qj)({isLogin:!1,displayName:"",photoURL:""}),this.Iauth0=(0,s.ZP)(u),e!=d.getInstance)throw d.instance?new Error("Already created instance of AuthStore. You should use AuthStore.getInstance()."):new Error("Constractor args valided illegal. You should use AuthStore.getInstance()");console.log("create instance of AuthStore"),this.setAuth().then((()=>{console.log(this.state)}))}static getInstance(){return this.instance||(this.instance=new d(d.getInstance)),this.instance}setAuth(){var e,t;return r(this,void 0,void 0,(function*(){const a=yield this.Iauth0;if(yield a.isAuthenticated()){const n=yield a.getUser();this.state.isLogin=!0,this.state.displayName=null!==(e=null===n||void 0===n?void 0:n.name)&&void 0!==e?e:"nameless",this.state.photoURL=null!==(t=null===n||void 0===n?void 0:n.picture)&&void 0!==t?t:"/img/no_img.jpg"}else this.state.isLogin=!1}))}signin(){return r(this,void 0,void 0,(function*(){const e=yield this.Iauth0;yield e.loginWithPopup(),yield this.setAuth()}))}signout(){return r(this,void 0,void 0,(function*(){const e=yield this.Iauth0;yield e.logout({returnTo:window.location.origin})}))}}const m=(0,n.aZ)({name:"LoginButton",setup(){const e=d.getInstance().state,t=d.getInstance();return{authStore:t,state:e}}});var p=a(4260),h=a(8240),g=a(5096),w=a(811),b=a(7011),f=a(3414),k=a(2035),v=a(7518),_=a.n(v);const W=(0,p.Z)(m,[["render",o]]),Z=W;_()(m,"components",{QBtn:h.Z,QAvatar:g.Z,QMenu:w.Z,QList:b.Z,QItem:f.Z,QItemSection:k.Z})},3002:(e,t,a)=>{a.d(t,{Z:()=>g});var n=a(3673);const l=(0,n._)("div",null,null,-1);function i(e,t,a,i,o,c){const s=(0,n.up)("q-select");return(0,n.wg)(),(0,n.iD)(n.HY,null,[l,(0,n.Wm)(s,{modelValue:i.locale,"onUpdate:modelValue":t[0]||(t[0]=e=>i.locale=e),options:i.localeOptions,label:"Language",dense:"","emit-value":"","map-options":"","label-color":"White",color:"white",style:{"min-width":"100px"},dark:""},null,8,["modelValue","options"])],64)}a(5363);var o=a(5948),c=a(3602),s=a(7619);const u={setup(){const{locale:e}=(0,o.QT)({useScope:"global"});return(0,n.YP)((()=>e),(e=>{console.info("locale was changed.",e.value),c.D.getInstance.setDefaultLocale(e.value),console.log(e.value.replace(/\-.*/,"")),s.o.setLanguage(e.value.replace(/\-.*/,""))}),{deep:!0}),{locale:e,localeOptions:[{value:"ja-JP",label:"日本語"},{value:"en-US",label:"English"}]}}};var r=a(4260),d=a(3017),m=a(7518),p=a.n(m);const h=(0,r.Z)(u,[["render",i]]),g=h;p()(u,"components",{QSelect:d.Z})},5238:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var n=a(3673),l=a(2323);const i=(0,n.Uk)(" MimiCa ");function o(e,t,a,o,c,s){const u=(0,n.up)("q-btn"),r=(0,n.up)("q-toolbar-title"),d=(0,n.up)("LanguageSwitch"),m=(0,n.up)("q-separator"),p=(0,n.up)("LoginButton"),h=(0,n.up)("q-toolbar"),g=(0,n.up)("q-route-tab"),w=(0,n.up)("q-tabs"),b=(0,n.up)("q-header"),f=(0,n.up)("q-icon"),k=(0,n.up)("q-item-section"),v=(0,n.up)("q-item"),_=(0,n.up)("q-list"),W=(0,n.up)("q-scroll-area"),Z=(0,n.up)("q-drawer"),y=(0,n.up)("q-footer"),q=(0,n.up)("router-view"),L=(0,n.up)("q-page-container"),Q=(0,n.up)("q-layout"),S=(0,n.Q2)("ripple");return(0,n.wg)(),(0,n.j4)(Q,{view:"hHh Lpr lFf"},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{class:"bg-cyan"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[i])),_:1}),(0,n.Wm)(d),(0,n.Wm)(m),(0,n.Wm)(p)])),_:1}),(0,n.Wm)(w,{modelValue:e.tab,"onUpdate:modelValue":t[2]||(t[2]=t=>e.tab=t),align:"left"},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{name:"dlsite",label:"dlsite",onClick:t[0]||(t[0]=t=>e.openURL("https://www.dlsite.com/home/dlaf/=/aid/mimica/url/https%3A%2F%2Fwww.dlsite.com%2Fhome%2Fcircle%2Fprofile%2F%3D%2Fmaker_id%2FRG34004.html%2F%3Futm_medium%3Daffiliate%26utm_campaign%3Dbnlink%26utm_content%3Dtext"))}),(0,n.Wm)(g,{name:"iranika",label:"iranika",onClick:t[1]||(t[1]=t=>e.openURL("https://twitter.com/happy_packet"))})])),_:1},8,["modelValue"])])),_:1}),(0,n.Wm)(Z,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[3]||(t[3]=t=>e.leftDrawerOpen=t),"show-if-above":"",mini:!e.leftDrawerOpen||e.db.miniState,onClickCapture:e.db.miniState,breakpoint:500,bordered:"",class:"bg-grey-3"},{default:(0,n.w5)((()=>[(0,n.Wm)(W,{class:"fit"},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{padding:""},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.essentialLinks,(t=>(0,n.wy)(((0,n.wg)(),(0,n.j4)(v,{key:t,clickable:"",to:t.link,disable:t.disable},{default:(0,n.w5)((()=>[(0,n.Wm)(k,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{name:t.icon},null,8,["name"])])),_:2},1024),(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(t.disable?e.$t(t.title)+" : WIP":e.$t(t.title)),1)])),_:2},1024)])),_:2},1032,["to","disable"])),[[S]]))),128)),(0,n.wy)(((0,n.wg)(),(0,n.j4)(v,{clickable:"",onClick:e.toggleMiniState,class:"mobile-hide"},{default:(0,n.w5)((()=>[(0,n.Wm)(k,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{name:e.db.miniState?"chevron_right":"chevron_left"},null,8,["name"])])),_:1}),(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("collapse")),1)])),_:1})])),_:1},8,["onClick"])),[[S]])])),_:1})])),_:1})])),_:1},8,["modelValue","mini","onClickCapture"]),(0,n.Wm)(y,{bordered:"",class:"bg-white text-primary mobile-only"},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{"no-caps":"","active-color":"primary","indicator-color":"transparent",class:"text-grey",modelValue:e.footnav,"onUpdate:modelValue":t[4]||(t[4]=t=>e.footnav=t)},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{name:"home",label:e.$t("home"),to:"/"},null,8,["label"]),(0,n.Wm)(g,{name:"mixn",label:e.$t("Mixn"),to:"/mixn"},null,8,["label"]),(0,n.Wm)(g,{name:"bml",label:"BML",to:"/bookmarklet"})])),_:1},8,["modelValue"])])),_:1}),(0,n.Wm)(L,null,{default:(0,n.w5)((()=>[(0,n.Wm)(q)])),_:1})])),_:1})}var c=a(3437),s=a(1959),u=a(3002),r=a(9691),d=a(3602);const m=[{title:"home",caption:"quasar.dev",icon:"home",link:"/",disable:!1},{title:"Mixn",caption:"",icon:"create",link:"mixn",disable:!1},{title:"Higuchi",caption:"",icon:"create",link:"Aegi",disable:!1},{title:"Bookmarklet",caption:"Bookmarklet",icon:"bookmark",link:"bookmarklet",disable:!1},{title:"KC",caption:"KC",icon:"bookmark",link:"kc",disable:!1},{title:"MEditor",caption:"MEditor",icon:"create",link:"meditor",disable:!1},{title:"Renka",caption:"",icon:"create",link:"renka",disable:!0},{title:"createDeck",caption:"github.com/quasarframework",icon:"create",link:"create-deck",disable:!0},{title:"myDecks",caption:"github.com/quasarframework",icon:"book",link:"mydeck",disable:!0},{title:"favorite",caption:"chat.quasar.dev",icon:"star",link:"favorite",disable:!0},{title:"help",caption:"chat.quasar.dev",icon:"help",link:"help",disable:!0},{title:"contact",caption:"chat.quasar.dev",icon:"help",link:"contact",disable:!1}],p=(0,n.aZ)({name:"MainLayout",components:{LanguageSwitch:u.Z,LoginButton:r.Z},setup(){const e=(0,s.iH)(!1),t=d.D.getInstance.db,a=(0,s.iH)(),n=(0,s.iH)();return{openURL:c.Z,essentialLinks:m,leftDrawerOpen:e,db:t,tab:a,footnav:n,toggleLeftDrawer(){e.value||d.D.getInstance.setMiniState(!t.miniState),e.value=!e.value},toggleMiniState(){d.D.getInstance.setMiniState(!t.miniState)}}}});var h=a(4260),g=a(9214),w=a(3812),b=a(9570),f=a(8240),k=a(3747),v=a(5869),_=a(7547),W=a(208),Z=a(2901),y=a(7704),q=a(7011),L=a(3414),Q=a(2035),S=a(4554),I=a(1762),C=a(2652),D=a(6489),U=a(7518),M=a.n(U);const A=(0,h.Z)(p,[["render",o],["__scopeId","data-v-4d35c52d"]]),x=A;M()(p,"components",{QLayout:g.Z,QHeader:w.Z,QToolbar:b.Z,QBtn:f.Z,QToolbarTitle:k.Z,QSeparator:v.Z,QTabs:_.Z,QRouteTab:W.Z,QDrawer:Z.Z,QScrollArea:y.Z,QList:q.Z,QItem:L.Z,QItemSection:Q.Z,QIcon:S.Z,QFooter:I.Z,QPageContainer:C.Z}),M()(p,"directives",{Ripple:D.Z})}}]);