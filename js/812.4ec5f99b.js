"use strict";(self["webpackChunkmimica"]=self["webpackChunkmimica"]||[]).push([[812],{4812:(t,e,n)=>{n.r(e),n.d(e,{default:()=>W});n(7070);var r=n(3673),i=n(2323);const o=(0,r._)("div",{class:"text-h4"},[(0,r.Uk)("MEditor"),(0,r._)("div",{class:"text-caption",style:{"margin-left":"10px",display:"inline-block"}},":WIP:0.10;")],-1),s={border:"1"},l={class:"tr-sound"},a=["innerHTML"],u=(0,r._)("td",{class:"tr-sound font-geneikoburi"},"@音響/#演出",-1),d=["innerHTML"],c=(0,r._)("td",{class:"tr-serifu font-geneikoburi"},"セリフ",-1),g={height:"30px;"},p=(0,r.Uk)("保存します"),x=(0,r._)("div",{class:"text-h5"},"デバッグエリア",-1);function h(t,e,n,h,m,b){const f=(0,r.up)("q-btn"),w=(0,r.up)("q-tooltip"),k=(0,r.up)("q-separator"),v=(0,r.up)("q-input"),S=(0,r.up)("q-card"),_=(0,r.up)("q-page");return(0,r.wg)(),(0,r.j4)(_,{padding:""},{default:(0,r.w5)((()=>[o,(0,r._)("table",s,[(0,r._)("tr",l,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.reverse(t.dialogue),(t=>((0,r.wg)(),(0,r.iD)("td",{class:"tr-sound font-geneikoburi",key:t,innerHTML:t.sound},null,8,a)))),128)),u]),(0,r._)("tr",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.reverse(t.dialogue),(t=>((0,r.wg)(),(0,r.iD)("td",{class:"tr-serifu font-geneikoburi",key:t,innerHTML:t.text},null,8,d)))),128)),c])]),(0,r.Wm)(S,{flat:"",bordered:""},{default:(0,r.w5)((()=>[(0,r._)("div",g,[(0,r.Wm)(f,{flat:"",dense:"",label:"初期化"}),(0,r.Wm)(f,{style:{height:"10px"},flat:"",round:"",dense:"",icon:"save",onClick:e[0]||(e[0]=e=>t.useEditoreStore().commitEditorStore())},{default:(0,r.w5)((()=>[(0,r.Wm)(w,null,{default:(0,r.w5)((()=>[p])),_:1})])),_:1})]),(0,r.Wm)(k),(0,r.Wm)(v,{type:"textarea",modelValue:t.useEditoreStore().db.text,"onUpdate:modelValue":e[1]||(e[1]=e=>t.useEditoreStore().db.text=e)},null,8,["modelValue"])])),_:1}),(0,r._)("div",null,[x,(0,r.Wm)(S,{textContent:(0,i.zw)(t.useEditoreStore().db.text)},null,8,["textContent"])])])),_:1})}var m=n(1959);class b{constructor(){var t,e;this.keys={text:"Text",setting:"Setting"},this.db=(0,m.qj)({text:String(null!==(t=window.localStorage.getItem(this.keys.text))&&void 0!==t?t:this.getInitText()),setting:String(null!==(e=window.localStorage.getItem(this.keys.setting))&&void 0!==e?e:"")})}toBoolean(t){return"true"===t.toLowerCase()}commitEditorStore(){window.localStorage.setItem(this.keys.text,this.db.text)}getInitText(){return"@音響指示は＠を使います\n#演出は#を使います\nこんにちは。これはテストです。\nサンプルです。\n\n一行空けることで列を追加できます。\n空けないとこのように改行されます。\n#こんなふうにブロックの後ろにも記述できます"}initEditorStore(){this.db.text=this.getInitText()}static get getInstance(){return this.instance||(this.instance=new b),this.instance}}function f(){return b.getInstance}const w=(0,r.aZ)({setup(){const t=(0,m.Fl)((()=>f().db.text.replace(/div/g,"td").replace(/<br>/g,""))),e=(0,m.Fl)((()=>f().db.text.split("\n\n").map((t=>{let e=t.split("\n"),n=[],r=[];return e.forEach((t=>{"#"==t[0]||"＃"==t[0]||"@"==t[0]||"＠"==t[0]?n.push(t):r.push(t)})),{sound:n.join("<br/>"),text:r.join("<br/>"),raw:t}}))));function n(t){if(0===t.length)return t;var e=t.slice();return e.reverse()}return{useEditoreStore:f,result:t,dialogue:e,reverse:n}}});var k=n(4379),v=n(151),S=n(8240),_=n(8870),y=n(5869),E=n(4842),I=n(7518),T=n.n(I);w.render=h;const W=w;T()(w,"components",{QPage:k.Z,QCard:v.Z,QBtn:S.Z,QTooltip:_.Z,QSeparator:y.Z,QInput:E.Z})}}]);