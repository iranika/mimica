"use strict";(self["webpackChunkmimica"]=self["webpackChunkmimica"]||[]).push([[211],{6211:(e,t,a)=>{a.r(t),a.d(t,{default:()=>K});var n=a(3673),l=a(2323);const o=(0,n.Uk)(" MimiCa ");function i(e,t,a,i,u,s){const c=(0,n.up)("q-btn"),r=(0,n.up)("q-toolbar-title"),m=(0,n.up)("LanguageSwitch"),d=(0,n.up)("q-separator"),p=(0,n.up)("LoginButton"),h=(0,n.up)("q-toolbar"),f=(0,n.up)("q-route-tab"),g=(0,n.up)("q-tabs"),w=(0,n.up)("q-header"),b=(0,n.up)("q-icon"),k=(0,n.up)("q-item-section"),v=(0,n.up)("q-item"),W=(0,n.up)("q-list"),_=(0,n.up)("q-scroll-area"),y=(0,n.up)("q-drawer"),q=(0,n.up)("q-footer"),L=(0,n.up)("router-view"),Z=(0,n.up)("q-page-container"),Q=(0,n.up)("q-layout"),S=(0,n.Q2)("ripple");return(0,n.wg)(),(0,n.j4)(Q,{view:"hHh Lpr lFf"},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{class:"bg-cyan"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[o])),_:1}),(0,n.Wm)(m),(0,n.Wm)(d),(0,n.Wm)(p)])),_:1}),(0,n.Wm)(g,{modelValue:e.tab,"onUpdate:modelValue":t[2]||(t[2]=t=>e.tab=t),align:"left"},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{name:"dlsite",label:"dlsite",onClick:t[0]||(t[0]=t=>e.openURL("https://www.dlsite.com/home/dlaf/=/aid/mimica/url/https%3A%2F%2Fwww.dlsite.com%2Fhome%2Fcircle%2Fprofile%2F%3D%2Fmaker_id%2FRG34004.html%2F%3Futm_medium%3Daffiliate%26utm_campaign%3Dbnlink%26utm_content%3Dtext"))}),(0,n.Wm)(f,{name:"iranika",label:"iranika",onClick:t[1]||(t[1]=t=>e.openURL("https://twitter.com/happy_packet"))})])),_:1},8,["modelValue"])])),_:1}),(0,n.Wm)(y,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[3]||(t[3]=t=>e.leftDrawerOpen=t),"show-if-above":"",mini:!e.leftDrawerOpen||e.db.miniState,onClickCapture:e.db.miniState,breakpoint:500,bordered:"",class:"bg-grey-3"},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{class:"fit"},{default:(0,n.w5)((()=>[(0,n.Wm)(W,{padding:""},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.essentialLinks,(t=>(0,n.wy)(((0,n.wg)(),(0,n.j4)(v,{key:t,clickable:"",to:t.link,disable:t.disable},{default:(0,n.w5)((()=>[(0,n.Wm)(k,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{name:t.icon},null,8,["name"])])),_:2},1024),(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(t.disable?e.$t(t.title)+" : WIP":e.$t(t.title)),1)])),_:2},1024)])),_:2},1032,["to","disable"])),[[S]]))),128)),(0,n.wy)((0,n.Wm)(v,{clickable:"",onClick:e.toggleMiniState,class:"mobile-hide"},{default:(0,n.w5)((()=>[(0,n.Wm)(k,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{name:e.db.miniState?"chevron_right":"chevron_left"},null,8,["name"])])),_:1}),(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("collapse")),1)])),_:1})])),_:1},8,["onClick"]),[[S]])])),_:1})])),_:1})])),_:1},8,["modelValue","mini","onClickCapture"]),(0,n.Wm)(q,{bordered:"",class:"bg-white text-primary mobile-only"},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{"no-caps":"","active-color":"primary","indicator-color":"transparent",class:"text-grey",modelValue:e.footnav,"onUpdate:modelValue":t[4]||(t[4]=t=>e.footnav=t)},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{name:"home",label:e.$t("home"),to:"/"},null,8,["label"]),(0,n.Wm)(f,{name:"mixn",label:e.$t("Mixn"),to:"/mixn"},null,8,["label"]),(0,n.Wm)(f,{name:"bml",label:"BML",to:"/bookmarklet"})])),_:1},8,["modelValue"])])),_:1}),(0,n.Wm)(Z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(L)])),_:1})])),_:1})}var u=a(3437),s=a(1959);const c=(0,n._)("div",null,null,-1);function r(e,t,a,l,o,i){const u=(0,n.up)("q-select");return(0,n.wg)(),(0,n.iD)(n.HY,null,[c,(0,n.Wm)(u,{modelValue:l.locale,"onUpdate:modelValue":t[0]||(t[0]=e=>l.locale=e),options:l.localeOptions,label:"Language",dense:"","emit-value":"","map-options":"","label-color":"White",color:"white",style:{"min-width":"100px"},dark:""},null,8,["modelValue","options"])],64)}var m=a(5948),d=a(3602);const p={setup(){const{locale:e}=(0,m.QT)({useScope:"global"});return(0,n.YP)((()=>e),(e=>{console.info("locale was changed.",e.value),d.D.getInstance.setDefaultLocale(e.value)}),{deep:!0}),{locale:e,localeOptions:[{value:"ja-JP",label:"日本語"},{value:"en-US",label:"English"}]}}};var h=a(3017),f=a(7518),g=a.n(f);p.render=r;const w=p;g()(p,"components",{QSelect:h.Z});const b=(0,n.Uk)(" Login "),k=["src"];function v(e,t,a,o,i,u){const s=(0,n.up)("q-btn"),c=(0,n.up)("q-avatar"),r=(0,n.up)("q-item-section"),m=(0,n.up)("q-item"),d=(0,n.up)("q-list"),p=(0,n.up)("q-menu");return e.state.isLogin?((0,n.wg)(),(0,n.j4)(s,{key:1,round:"",flat:""},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("img",{src:e.state.photoURL},null,8,k)])),_:1}),(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,{onClick:t[1]||(t[1]=t=>e.authStore.signout())},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("Logout")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):((0,n.wg)(),(0,n.j4)(s,{key:0,onClick:t[0]||(t[0]=t=>e.authStore.signin())},{default:(0,n.w5)((()=>[b])),_:1}))}var W=a(3321);const _=JSON.parse('{"domain":"nika.jp.auth0.com","client_id":"tCb5hh5RpeQ7ehN1J2XYWMzCyxzKCtDQ","audience":"https://apollo-server-prisma.herokuapp.com/"}');var y=function(e,t,a,n){function l(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,o){function i(e){try{s(n.next(e))}catch(t){o(t)}}function u(e){try{s(n["throw"](e))}catch(t){o(t)}}function s(e){e.done?a(e.value):l(e.value).then(i,u)}s((n=n.apply(e,t||[])).next())}))};class q{constructor(e){if(this.state=(0,s.qj)({isLogin:!1,displayName:"",photoURL:""}),this.Iauth0=(0,W.ZP)(_),e!=q.getInstance)throw q.instance?new Error("Already created instance of AuthStore. You should use AuthStore.getInstance()."):new Error("Constractor args valided illegal. You should use AuthStore.getInstance()");console.log("create instance of AuthStore"),this.setAuth().then((()=>{console.log(this.state)}))}static getInstance(){return this.instance||(this.instance=new q(q.getInstance)),this.instance}setAuth(){var e,t;return y(this,void 0,void 0,(function*(){const a=yield this.Iauth0;if(yield a.isAuthenticated()){const n=yield a.getUser();this.state.isLogin=!0,this.state.displayName=null!==(e=null===n||void 0===n?void 0:n.name)&&void 0!==e?e:"nameless",this.state.photoURL=null!==(t=null===n||void 0===n?void 0:n.picture)&&void 0!==t?t:"/img/no_img.jpg"}else this.state.isLogin=!1}))}signin(){return y(this,void 0,void 0,(function*(){const e=yield this.Iauth0;yield e.loginWithPopup(),yield this.setAuth()}))}signout(){return y(this,void 0,void 0,(function*(){const e=yield this.Iauth0;yield e.logout({returnTo:window.location.origin})}))}}const L=(0,n.aZ)({name:"LoginButton",setup(){const e=q.getInstance().state,t=q.getInstance();return{authStore:t,state:e}}});var Z=a(8240),Q=a(5096),S=a(6335),C=a(7011),I=a(3414),D=a(2035);L.render=v;const U=L;g()(L,"components",{QBtn:Z.Z,QAvatar:Q.Z,QMenu:S.Z,QList:C.Z,QItem:I.Z,QItemSection:D.Z});const x=[{title:"home",caption:"quasar.dev",icon:"home",link:"/",disable:!1},{title:"Mixn",caption:"",icon:"create",link:"mixn",disable:!1},{title:"Bookmarklet",caption:"Bookmarklet",icon:"bookmark",link:"bookmarklet",disable:!1},{title:"KC",caption:"KC",icon:"bookmark",link:"kc",disable:!1},{title:"createDeck",caption:"github.com/quasarframework",icon:"create",link:"create-deck",disable:!0},{title:"myDecks",caption:"github.com/quasarframework",icon:"book",link:"mydeck",disable:!0},{title:"favorite",caption:"chat.quasar.dev",icon:"star",link:"favorite",disable:!0},{title:"help",caption:"chat.quasar.dev",icon:"help",link:"help",disable:!0}],A=(0,n.aZ)({name:"MainLayout",components:{LanguageSwitch:w,LoginButton:U},setup(){const e=(0,s.iH)(!1),t=d.D.getInstance.db,a=(0,s.iH)(),n=(0,s.iH)();return{openURL:u.Z,essentialLinks:x,leftDrawerOpen:e,db:t,tab:a,footnav:n,toggleLeftDrawer(){e.value||d.D.getInstance.setMiniState(!t.miniState),e.value=!e.value},toggleMiniState(){d.D.getInstance.setMiniState(!t.miniState)}}}});var F=a(9214),M=a(3812),V=a(9570),R=a(3747),j=a(5869),B=a(7547),H=a(208),O=a(2901),P=a(7704),T=a(4554),Y=a(1762),$=a(2652),z=a(6489);A.render=i,A.__scopeId="data-v-147fdcb1";const K=A;g()(A,"components",{QLayout:F.Z,QHeader:M.Z,QToolbar:V.Z,QBtn:Z.Z,QToolbarTitle:R.Z,QSeparator:j.Z,QTabs:B.Z,QRouteTab:H.Z,QDrawer:O.Z,QScrollArea:P.Z,QList:C.Z,QItem:I.Z,QItemSection:D.Z,QIcon:T.Z,QFooter:Y.Z,QPageContainer:$.Z}),g()(A,"directives",{Ripple:z.Z})}}]);