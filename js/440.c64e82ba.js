"use strict";(self["webpackChunkmimica"]=self["webpackChunkmimica"]||[]).push([[440],{6440:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});n(7070);var r=n(3673),i=n(2323);const o=(0,r._)("div",{class:"text-h4"},"MEditor",-1),s={border:"1"},l={class:"tr-sound"},a=["innerHTML"],u=(0,r._)("td",{class:"tr-sound font-geneikoburi"},"@音響/#演出",-1),d=["innerHTML"],c=(0,r._)("td",{class:"tr-serifu font-geneikoburi"},"セリフ",-1),g=(0,r._)("div",{class:"text-h5"},"デバッグエリア",-1),m=(0,r._)("div",{style:{"font-family":"dakutenmin"}},"あああああああああ",-1);function x(e,t,n,x,h,b){const f=(0,r.up)("q-editor"),v=(0,r.up)("q-card"),p=(0,r.up)("q-page");return(0,r.wg)(),(0,r.j4)(p,{padding:""},{default:(0,r.w5)((()=>[o,(0,r._)("table",s,[(0,r._)("tr",l,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.reverse(e.dialogue),(e=>((0,r.wg)(),(0,r.iD)("td",{class:"tr-sound font-geneikoburi",key:e,innerHTML:e.sound},null,8,a)))),128)),u]),(0,r._)("tr",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.reverse(e.dialogue),(e=>((0,r.wg)(),(0,r.iD)("td",{class:"tr-serifu font-geneikoburi",key:e,innerHTML:e.text},null,8,d)))),128)),c])]),(0,r.Wm)(f,{modelValue:e.useEditoreStore().db.text,"onUpdate:modelValue":t[0]||(t[0]=t=>e.useEditoreStore().db.text=t),"min-height":"5rem",definitions:{save:{tip:"保存します",icon:"save",label:"保存",handler:e.useEditoreStore().commitEditorStore()}},toolbar:[["left","center","right","justify"],["bold","italic","strike","underline"],["save"]]},null,8,["modelValue","definitions"]),(0,r._)("div",null,[g,(0,r.Wm)(v,{textContent:(0,i.zw)(e.useEditoreStore().db.text)},null,8,["textContent"]),m])])),_:1})}var h=n(1959);class b{constructor(){var e,t;this.keys={text:"Text",setting:"Setting"},this.db=(0,h.qj)({text:String(null!==(e=window.localStorage.getItem(this.keys.text))&&void 0!==e?e:""),setting:String(null!==(t=window.localStorage.getItem(this.keys.setting))&&void 0!==t?t:"")})}toBoolean(e){return"true"===e.toLowerCase()}commitEditorStore(){window.localStorage.setItem(this.keys.text,this.db.text)}static get getInstance(){return this.instance||(this.instance=new b),this.instance}}function f(){return b.getInstance}const v=(0,r.aZ)({setup(){const e=(0,h.Fl)((()=>f().db.text.replace(/div/g,"td").replace(/<br>/g,""))),t=(0,h.Fl)((()=>f().db.text.split("<br>").map((e=>{let t=(new DOMParser).parseFromString(e,"text/html");var n=[];let r=[];return t.querySelectorAll("div").forEach((e=>{"#"==e.innerText[0]||"＃"==e.innerText[0]||"@"==e.innerText[0]||"＠"==e.innerText[0]?n.push(e.innerText):r.push(e.innerText)})),{sound:n.join("<br>"),text:r.join("<br>"),raw:e}}))));function n(e){if(0===e.length)return e;var t=e.slice();return t.reverse()}return{useEditoreStore:f,result:e,dialogue:t,reverse:n}}});var p=n(4379),w=n(4592),k=n(151),S=n(7518),T=n.n(S);v.render=x;const y=v;T()(v,"components",{QPage:p.Z,QEditor:w.Z,QCard:k.Z})}}]);