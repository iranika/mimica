"use strict";(globalThis["webpackChunkmimica"]=globalThis["webpackChunkmimica"]||[]).push([[80],{8080:(t,e,n)=>{n.r(e),n.d(e,{default:()=>Z});var i=n(3673),r=n(2323);const o=(0,i._)("div",{class:"text-h4"},[(0,i.Uk)("MEditor"),(0,i._)("div",{class:"text-caption",style:{"margin-left":"10px",display:"inline-block"}},":WIP:0.10;")],-1),s={border:"1"},l={class:"tr-sound"},a=["innerHTML"],u=(0,i._)("td",{class:"tr-sound font-geneikoburi"},"@音響/#演出",-1),d=["innerHTML"],c=(0,i._)("td",{class:"tr-serifu font-geneikoburi"},"セリフ",-1),g={height:"30px;"},p=(0,i.Uk)("保存します"),h=(0,i._)("div",{class:"text-h5"},"デバッグエリア",-1);function x(t,e,n,x,b,m){const w=(0,i.up)("q-btn"),f=(0,i.up)("q-tooltip"),k=(0,i.up)("q-separator"),v=(0,i.up)("q-input"),S=(0,i.up)("q-card"),_=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(_,{padding:""},{default:(0,i.w5)((()=>[o,(0,i._)("table",s,[(0,i._)("tr",l,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.reverse(t.dialogue),(t=>((0,i.wg)(),(0,i.iD)("td",{class:"tr-sound font-geneikoburi",key:t,innerHTML:t.sound},null,8,a)))),128)),u]),(0,i._)("tr",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.reverse(t.dialogue),(t=>((0,i.wg)(),(0,i.iD)("td",{class:"tr-serifu font-geneikoburi",key:t,innerHTML:t.text},null,8,d)))),128)),c])]),(0,i.Wm)(S,{flat:"",bordered:""},{default:(0,i.w5)((()=>[(0,i._)("div",g,[(0,i.Wm)(w,{flat:"",dense:"",label:"初期化",onClick:e[0]||(e[0]=e=>t.useEditorStore().initEditorStore())}),(0,i.Wm)(w,{style:{height:"10px"},flat:"",round:"",dense:"",icon:"save",onClick:e[1]||(e[1]=e=>t.useEditorStore().commitEditorStore())},{default:(0,i.w5)((()=>[(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[p])),_:1})])),_:1})]),(0,i.Wm)(k),(0,i.Wm)(v,{type:"textarea",modelValue:t.useEditorStore().db.text,"onUpdate:modelValue":e[2]||(e[2]=e=>t.useEditorStore().db.text=e)},null,8,["modelValue"])])),_:1}),(0,i._)("div",null,[h,(0,i.Wm)(S,{textContent:(0,r.zw)(t.useEditorStore().db.text)},null,8,["textContent"])])])),_:1})}var b=n(1959);class m{constructor(){var t,e;this.keys={text:"Text",setting:"Setting"},this.db=(0,b.qj)({text:String(null!==(t=window.localStorage.getItem(this.keys.text))&&void 0!==t?t:this.getInitText()),setting:String(null!==(e=window.localStorage.getItem(this.keys.setting))&&void 0!==e?e:"")})}toBoolean(t){return"true"===t.toLowerCase()}commitEditorStore(){window.localStorage.setItem(this.keys.text,this.db.text)}getInitText(){return"＄音響指示は＄を使います\n#演出は#を使います\nこんにちは。これはテストです。\nサンプルです。\n\n一行空けることで列を追加できます。\n空けないとこのように改行されます。\n#こんなふうにブロックの後ろにも記述できます"}initEditorStore(){this.db.text=this.getInitText()}static get getInstance(){return this.instance||(this.instance=new m),this.instance}}function w(){return m.getInstance}const f=(0,i.aZ)({setup(){const t=(0,i.Fl)((()=>w().db.text.replace(/div/g,"td").replace(/<br>/g,""))),e=(0,i.Fl)((()=>w().db.text.split("\n\n").map((t=>{let e=t.split("\n"),n=[],i=[];return e.forEach((t=>{"#"==t[0]||"＃"==t[0]||"@"==t[0]||"＠"==t[0]||"$"==t[0]||"＄"==t[0]||"!"==t[0]||"！"==t[0]?n.push(t):i.push(t)})),{sound:n.join("<br/>"),text:i.join("<br/>"),raw:t}}))));function n(t){if(0===t.length)return t;var e=t.slice();return e.reverse()}return{useEditorStore:w,result:t,dialogue:e,reverse:n}}});var k=n(4260),v=n(4379),S=n(151),_=n(8240),E=n(8870),T=n(5869),y=n(4842),I=n(7518),C=n.n(I);const W=(0,k.Z)(f,[["render",x]]),Z=W;C()(f,"components",{QPage:v.Z,QCard:S.Z,QBtn:_.Z,QTooltip:E.Z,QSeparator:T.Z,QInput:y.Z})}}]);