"use strict";(self["webpackChunkmimica"]=self["webpackChunkmimica"]||[]).push([[348],{1348:(t,e,r)=>{r.r(e),r.d(e,{default:()=>E});r(7070);var n=r(3673),i=r(2323);const s=(0,n._)("div",{class:"text-h4"},"MEditor",-1),o={border:"1"},l={class:"tr-sound"},a=["innerHTML"],d=(0,n._)("td",{class:"tr-sound"},"音響/演出",-1),u=["innerHTML"],c=(0,n._)("td",{class:"tr-serifu"},"セリフ",-1),g=(0,n._)("div",{class:"text-h5"},"デバッグエリア",-1);function h(t,e,r,h,m,x){const p=(0,n.up)("q-editor"),v=(0,n.up)("q-card"),w=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(w,{padding:""},{default:(0,n.w5)((()=>[s,(0,n._)("table",o,[(0,n._)("tr",l,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.reverse(t.dialogue),(t=>((0,n.wg)(),(0,n.iD)("td",{class:"tr-sound",key:t,innerHTML:t.sound},null,8,a)))),128)),d]),(0,n._)("tr",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.reverse(t.dialogue),(t=>((0,n.wg)(),(0,n.iD)("td",{class:"tr-serifu",key:t,innerHTML:t.text},null,8,u)))),128)),c])]),(0,n.Wm)(p,{modelValue:t.useEditoreStore().db.text,"onUpdate:modelValue":e[0]||(e[0]=e=>t.useEditoreStore().db.text=e),"min-height":"5rem",definitions:{save:{tip:"保存します",icon:"save",label:"保存",handler:t.useEditoreStore().commitEditorStore()}},toolbar:[["left","center","right","justify"],["bold","italic","strike","underline"],["save"]]},null,8,["modelValue","definitions"]),g,(0,n.Wm)(v,{textContent:(0,i.zw)(t.useEditoreStore().db.text)},null,8,["textContent"])])),_:1})}var m=r(1959);class x{constructor(){var t,e;this.keys={text:"Text",setting:"Setting"},this.db=(0,m.qj)({text:String(null!==(t=window.localStorage.getItem(this.keys.text))&&void 0!==t?t:""),setting:String(null!==(e=window.localStorage.getItem(this.keys.setting))&&void 0!==e?e:"")})}toBoolean(t){return"true"===t.toLowerCase()}commitEditorStore(){window.localStorage.setItem(this.keys.text,this.db.text)}static get getInstance(){return this.instance||(this.instance=new x),this.instance}}function p(){return x.getInstance}const v=(0,n.aZ)({setup(){const t=(0,m.Fl)((()=>p().db.text.replace(/div/g,"td").replace(/<br>/g,""))),e=(0,m.Fl)((()=>p().db.text.split("<br>").map((t=>{let e=(new DOMParser).parseFromString(t,"text/html");var r=[];let n=[];return e.querySelectorAll("div").forEach((t=>{"#"==t.innerText[0]||"@"==t.innerText[0]?r.push(t.innerText):n.push(t.innerText)})),{sound:r.join("<br>"),text:n.join("<br>"),raw:t}}))));function r(t){if(0===t.length)return t;var e=t.slice();return e.reverse()}return{useEditoreStore:p,result:t,dialogue:e,reverse:r}}});var w=r(4379),b=r(4592),f=r(151),S=r(7518),k=r.n(S);v.render=h;const E=v;k()(v,"components",{QPage:w.Z,QEditor:b.Z,QCard:f.Z})}}]);