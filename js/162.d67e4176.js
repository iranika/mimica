"use strict";(self["webpackChunkmimica"]=self["webpackChunkmimica"]||[]).push([[162],{3162:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});n(7070);var r=n(3673),i=n(2323);const s=(0,r._)("div",{class:"text-h4"},[(0,r.Uk)("MEditor"),(0,r._)("div",{class:"text-caption",style:{"margin-left":"10px",display:"inline-block"}},":WIP:0.10;")],-1),o={border:"1"},l={class:"tr-sound"},a=["innerHTML"],u=(0,r._)("td",{class:"tr-sound font-geneikoburi"},"@音響/#演出",-1),d=["innerHTML"],c=(0,r._)("td",{class:"tr-serifu font-geneikoburi"},"セリフ",-1),g=(0,r._)("div",{class:"text-h5"},"デバッグエリア",-1);function x(e,t,n,x,b,h){const m=(0,r.up)("q-editor"),p=(0,r.up)("q-card"),v=(0,r.up)("q-page");return(0,r.wg)(),(0,r.j4)(v,{padding:""},{default:(0,r.w5)((()=>[s,(0,r._)("table",o,[(0,r._)("tr",l,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.reverse(e.dialogue),(e=>((0,r.wg)(),(0,r.iD)("td",{class:"tr-sound font-geneikoburi",key:e,innerHTML:e.sound},null,8,a)))),128)),u]),(0,r._)("tr",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.reverse(e.dialogue),(e=>((0,r.wg)(),(0,r.iD)("td",{class:"tr-serifu font-geneikoburi",key:e,innerHTML:e.text},null,8,d)))),128)),c])]),(0,r.Wm)(m,{modelValue:e.useEditoreStore().db.text,"onUpdate:modelValue":t[0]||(t[0]=t=>e.useEditoreStore().db.text=t),"min-height":"5rem",definitions:{save:{tip:"保存します",icon:"save",label:"保存",handler:e.useEditoreStore().commitEditorStore()}},toolbar:[["left","center","right","justify"],["bold","italic","strike","underline"],["save"]]},null,8,["modelValue","definitions"]),(0,r._)("div",null,[g,(0,r.Wm)(p,{textContent:(0,i.zw)(e.useEditoreStore().db.text)},null,8,["textContent"])])])),_:1})}var b=n(1959);class h{constructor(){var e,t;this.keys={text:"Text",setting:"Setting"},this.db=(0,b.qj)({text:String(null!==(e=window.localStorage.getItem(this.keys.text))&&void 0!==e?e:""),setting:String(null!==(t=window.localStorage.getItem(this.keys.setting))&&void 0!==t?t:"")})}toBoolean(e){return"true"===e.toLowerCase()}commitEditorStore(){window.localStorage.setItem(this.keys.text,this.db.text)}static get getInstance(){return this.instance||(this.instance=new h),this.instance}}function m(){return h.getInstance}const p=(0,r.aZ)({setup(){const e=(0,b.Fl)((()=>m().db.text.replace(/div/g,"td").replace(/<br>/g,""))),t=(0,b.Fl)((()=>m().db.text.split("<br>").map((e=>{let t=(new DOMParser).parseFromString(e,"text/html");var n=[];let r=[];return t.querySelectorAll("div").forEach((e=>{"#"==e.innerText[0]||"＃"==e.innerText[0]||"@"==e.innerText[0]||"＠"==e.innerText[0]?n.push(e.innerText):r.push(e.innerText)})),{sound:n.join("<br>"),text:r.join("<br>"),raw:e}}))));function n(e){if(0===e.length)return e;var t=e.slice();return t.reverse()}return{useEditoreStore:m,result:e,dialogue:t,reverse:n}}});var v=n(4379),f=n(4592),w=n(151),k=n(7518),S=n.n(k);p.render=x;const T=p;S()(p,"components",{QPage:v.Z,QEditor:f.Z,QCard:w.Z})}}]);